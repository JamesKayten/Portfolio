* { margin:0; padding:0; box-sizing:border-box; }
body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background: #0f0f0f;
    color: #e0e0e0;
    line-height: 1.6;
}
.container { display:flex; min-height:100vh; }
.main-content { flex:1; padding:80px 60px; max-width:900px; }
.sidebar {
    width:280px;
    background:#121212;
    border-left:1px solid #222;
    position:fixed;
    right:0; top:0; height:100vh;
    padding:80px 40px 40px;
    overflow-y:auto;
}
h1 { font-size:2.8rem; margin-bottom:1.5rem; font-weight:300; letter-spacing:-0.5px; }
.category { margin-bottom:3rem; }
.category-title {
    font-size:1.6rem; font-weight:400; margin-bottom:1.2rem;
    cursor:pointer; display:flex; justify-content:space-between; align-items:center;
    transition:color 0.2s;
}
.category-title:hover { color:#bbb; }
.accordion-content { max-height:0; overflow:hidden; transition:max-height 0.4s ease-out; }
.accordion-content.open { max-height:500px; }
.subcategory {
    padding:0.8rem 0; font-size:1.1rem; color:#aaa; cursor:pointer;
    transition:color 0.2s;
}
.subcategory:hover, .subcategory.active { color:#fff; font-weight:500; }
.arrow { font-size:1.2rem; transition:transform 0.3s; }
.open .arrow { transform:rotate(180deg); }

/* Content & Gallery */
.content-area { opacity:0; transition:opacity 0.4s ease; }
.content-area.loaded { opacity:1; }
.loading { color:#777; font-style:italic; }
.gallery {
    display:grid; grid-template-columns:repeat(auto-fill, minmax(280px, 1fr));
    gap:1.5rem; margin-top:2rem;
}
.gallery-item {
    position:relative; overflow:hidden; border-radius:8px;
    box-shadow:0 4px 20px rgba(0,0,0,0.6); transition:transform 0.3s ease; cursor:pointer;
}
.gallery-item:hover { transform:scale(1.04); }
.gallery-item img {
    width:100%; height:100%; object-fit:cover; display:block; aspect-ratio:4/3;
    transition:transform 0.4s ease, opacity 0.6s ease; opacity:0; transform:scale(1.02);
}
.gallery-item img.loaded { opacity:1; transform:scale(1); }
.gallery-item:hover img { transform:scale(1.08); }
.gallery-item .caption {
    position:absolute; bottom:0; left:0; right:0;
    background:linear-gradient(to top, rgba(0,0,0,0.8), transparent);
    color:white; padding:1rem; font-size:0.95rem; opacity:0; transition:opacity 0.3s;
}
.gallery-item:hover .caption { opacity:1; }

/* Lightbox */
.lightbox {
    display:none; position:fixed; inset:0; background:rgba(0,0,0,0.95);
    z-index:1000; justify-content:center; align-items:center;
}
.lightbox.active { display:flex; }
.lightbox-content { position:relative; max-width:90vw; max-height:90vh; }
#lightboxImg {
    max-width:90vw; max-height:85vh; object-fit:contain; border-radius:8px;
    opacity:0; transition:opacity 0.6s ease;
}
#lightboxImg.loaded { opacity:1; }
.lightbox-caption {
    position:absolute; bottom:20px; left:50%; transform:translateX(-50%);
    background:rgba(0,0,0,0.7); color:white; padding:0.8rem 1.5rem;
    border-radius:6px; font-size:1.1rem; max-width:80%; text-align:center;
}
.close { position:absolute; top:30px; right:40px; color:white; font-size:3rem; cursor:pointer; }
.prev, .next {
    position:absolute; top:50%; transform:translateY(-50%);
    background:rgba(0,0,0,0.5); color:white; border:none; padding:16px;
    font-size:2rem; cursor:pointer; user-select:none;
}
.prev { left:20px; } .next { right:20px; }

@media (max-width:1200px) {
    .sidebar { width:220px; }
    .main-content { padding:60px 40px; }
}
@media (max-width:900px) {
    .container { flex-direction:column; }
    .sidebar { position:static; width:100%; height:auto; border-left:none; border-top:1px solid #222; padding:40px; }
    .main-content { max-width:none; padding:60px 40px; }
}